<!DOCTYPE html>
<link rel="import" href="../polymer/polymer-element.html">
<script src="../ag-grid/dist/ag-grid.noStyle.js"></script>
<dom-module id="xtal-silver">
  <!-- <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <link rel="stylesheet" on-load="loaded" type="text/css" href="/bower_components/ag-grid/dist/styles/ag-grid.css">
    <link rel="stylesheet" on-load="loaded" type="text/css" href="/bower_components/ag-grid/dist/styles/ag-theme-material.css">
    <div id="myGrid" style="height: 115px;width:500px" class="ag-theme-material"></div>
  </template> -->

  <script>
    /**
     * `xtal-silver`
     * IE11-compatible AG-Grid web wrapper
     *
     * @customElement
     * @polymer
     * @demo demo/index.html
     */
    class XtalSilver extends Polymer.Element {
      static get is() { return 'xtal-silver'; }
      static get properties() {
        return {

        };
      }
      static get template(){
        return `
        <style>
      :host {
        display: block;
      }
    </style>
    <link rel="stylesheet" on-load="loaded" type="text/css" href="/bower_components/ag-grid/dist/styles/ag-grid.css">
    <link rel="stylesheet" on-load="loaded" type="text/css" href="/bower_components/ag-grid/dist/styles/ag-theme-material.css">
    <div id="myGrid" style="height: 115px;width:500px" class="ag-theme-material"></div>
        `;
      }
      ready() {
        super.ready();
        // specify the columns
        var columnDefs = [
          { headerName: "Make", field: "make" },
          { headerName: "Model", field: "model" },
          { headerName: "Price", field: "price" }
        ];

        // specify the data
        var rowData = [
          { make: "Toyota", model: "Celica", price: 35000 },
          { make: "Ford", model: "Mondeo", price: 32000 },
          { make: "Porsche", model: "Boxter", price: 72000 }
        ];

        // let the grid know which columns and what data to use
        var gridOptions = {
          columnDefs: columnDefs,
          rowData: rowData,
          onGridReady: function () {
            gridOptions.api.sizeColumnsToFit();
          }
        };

        // // used in our jasmine test
        // function selectAllRows() {
        //   gridOptions.api.selectAll();
        // }

        // wait for the document to be loaded, otherwise ag-Grid will not find the div in the document.
        //document.addEventListener("DOMContentLoaded", function () {
          // lookup the container we want the Grid to use
          var eGridDiv = this.$.myGrid;

          // create the grid passing in the div to use together with the columns & data we want to use
          new agGrid.Grid(eGridDiv, gridOptions);
        //});
      }
    }

    window.customElements.define(XtalSilver.is, XtalSilver);
  </script>
</dom-module>